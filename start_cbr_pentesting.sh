#!/bin/sh
# # 
# # Valida y configura las variables de entorno necesarias e inicia 
# # la aplicacion en sistema linux.
# # 
# # David Leonardo Gutierrez <leoguti11@gmail.com>
# # 
# # 
echo "Java  home: "$JAVA_HOME
if  [ -z "$JAVA_HOME" ]; then
	echo ================================================================
	echo ====================ERROR=======================================
	echo ================================================================
	echo No se ha establecido la localizacion de jdk de java, por 
	echo favor establezca la ruta en la variable JAVA_HOME.
	echo ================================================================
	echo ================================================================
	exit 1
fi

# Permite configurar las opciones de memoria de la maquina virtual.
if [ -z "$CUSTOM_JVM_OPTS" ]; then
	JAVA_OPTS="-Xms512M -Xmx1500M -XX:MaxPermSize=280M"
else
	JAVA_OPTS=$CUSTOM_JVM_OPTS
fi

CBR_PENTESTING_JAR_DIR=$(pwd)"/target"
export CBR_PENTESTING_JAR_DIR

if  [ -d $CBR_PENTESTING_JAR_DIR ]
 then
	echo ================================================================
	echo ====================ERROR=======================================
	echo ================================================================
	echo No se ha instalado la aplicacion, por favor siga las instrucciones
	echo que se encuentran en el github para compilar e instalar el proyecto 
	echo ================================================================
	echo ================================================================
	exit 1
fi

java -cp $CBR_PENTESTING_JAR_DIR\cbr-tesis-1.0-SNAPSHOT.jar org.tesis.cbr_tesis.MainApp
