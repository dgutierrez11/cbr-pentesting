@echo off

rem # 
rem # Valida y configura las variables de entorno necesarias e inicia  
rem # la aplicacion en sistemas windows.
rem # 
rem # David Leonardo Gutierrez <leoguti11@gmail.com>
rem # 
rem # 

rem Validamos que se tenga instalado el jdk de java.
if ("x%JAVA_HOME%"=="x") (goto NoJavaHome) 

rem Permite configurar las opciones de memoria de la maquina virtual.
if ("x%CUSTOM_JVM_OPTS%"=="x") (set "JAVA_OPTS=-Xms500M -Xmx1400M -XX:MaxPermSize=280M") else (set "JAVA_OPTS=%CUSTOM_JVM_OPTS%")

set "CBR_PENTESTING_JAR_DIR=%CD%\target"

if exist %CBR_PENTESTING_JAR_DIR% (START java -cp %CBR_PENTESTING_JAR_DIR%\cbr-tesis-1.0-SNAPSHOT.jar org.tesis.cbr_tesis.MainApp) else (goto NoInstall)

goto end

:NoJavaHome
echo ================================================================
echo ==================== ERROR =====================================
echo ================================================================
echo No se ha establecido la localizacion de jdk de java, por 
echo favor establezca la ruta en la variable JAVA_HOME.
echo ================================================================
echo ================================================================
pause


:NoInstall
echo ================================================================
echo ==================== ERROR =====================================
echo ================================================================
echo No se ha instalado la aplicacion, por favor siga las instrucciones
echo que se encuentran en el github para compilar e instalar el proyecto 
echo ================================================================
echo ================================================================
pause

:end
